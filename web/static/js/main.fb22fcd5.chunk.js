(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(56)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),o=a(19),l=a.n(o),i=a(11),s=a(12),u=a(32),d=a(33);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}!function(e){e[e.LOAD_HISTORICALDATALIST=0]="LOAD_HISTORICALDATALIST",e[e.RESET=1]="RESET"}(n||(n={}));var p=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{data:t.data,isUpToDate:t.isUpToDate,isError:t.isError,errorMessage:t.errorMessage})},f=Object(s.c)({HistoricalDataList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{data:[],page:0,size:20,totalCount:0},isUpToDate:!1,isError:!1,errorMessage:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.LOAD_HISTORICALDATALIST:return p(e,t.payload);case n.RESET:e={data:{data:[],page:0,size:20,totalCount:0},isUpToDate:!1,isError:!1,errorMessage:""}}return e}}),h=Object(s.e)(f,Object(s.d)(Object(s.a)(u.a))),g=a(22),E=a(13),b=a(9),y=a(10);function O(){var e=Object(b.a)(["\n"]);return O=function(){return e},e}function v(){var e=Object(b.a)(["\n"]);return v=function(){return e},e}function k(){var e=Object(b.a)(["\n"]);return k=function(){return e},e}function C(){var e=Object(b.a)(["\n"]);return C=function(){return e},e}function N(){var e=Object(b.a)(["\n"]);return N=function(){return e},e}function j(){var e=Object(b.a)(["\n"]);return j=function(){return e},e}function D(){var e=Object(b.a)(["\noverflow: auto;\n"]);return D=function(){return e},e}function S(){var e=Object(b.a)(["\n"]);return S=function(){return e},e}var z=y.a.div(S()),w=(y.a.div(D()),y.a.img(j()),y.a.input(N())),T=(y.a.textarea(C()),y.a.select(k()),y.a.label(v())),x=(y.a.span(O()),function(){return r.createElement("header",{className:"header d100"},r.createElement(T,{className:"bold"},"Historical Data Search"))}),L=function(){return r.createElement("footer",{className:"footer d100"},r.createElement(z,{className:"center"},"Footer"))},A=a(18),P=a.n(A),I=a(26),R=a(36),H="#0067b9",F="#FFFFFF";function M(e){return U(e)&&e.length>0}function U(e){return null!==e&&void 0!==e}function B(e){try{return U(e)?JSON.stringify(e):""}catch(t){return G(t,"JSON2String"),""}}function G(e,t){console.log("Error:"+t+":"+e)}var _=function e(){var t=this;Object(R.a)(this,e),this.url="https://data-search.herokuapp.com/",this.get=function(e,a){t.fetch(e,"GET",a)},this.post=function(e,a,n){t.fetch(e,"POST",a,n)},this.delete=function(e,a,n){t.fetch(e,"DELETE",a,n)},this.patch=function(e,a,n){t.fetch(e,"PATCH",a,n)},this.put=function(e,a,n){t.fetch(e,"PUT",a,n)},this.getAS=function(){var e=Object(I.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sessionStorage.getItem(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),this.fetch=function(){var e=Object(I.a)(P.a.mark(function e(a,n,r,c){var o,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAS("auth_token");case 2:return o=e.sent,e.next=5,t.getAS("user_id");case 5:l=e.sent,fetch(t.url+a,{method:n,headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":M(o)?"Bearer "+o:"","user-id":M(l)?""+l:""},body:U(c)?B(c):null}).then(function(e){return e.json()}).then(function(e){U(e)?U(e.data)?t.callback(r,e,"Some problem occurs. Please contact administrator."):t.callback(r,null,e.message):t.callback(r,null,"Some problem occurs. Please contact administrator.")}).catch(function(e){console.log("err",e),t.callback(r,null,e.toString())});case 7:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.callback=function(e,t,a){U(e)&&"function"==typeof e&&e(t,a)}},J=function(e,t,a,r){return{type:n.LOAD_HISTORICALDATALIST,payload:{data:e,isUpToDate:t,isError:a,errorMessage:r}}},W=a(16),q=a(38),Q=a(37),V=function(e){return e.visible?r.createElement(z,null,r.createElement(z,{className:"loader-overlay"}),r.createElement(z,{className:"loader"},r.createElement(T,null,"..."),r.createElement(z,{style:{color:H,fontWeight:"bold",marginTop:5}},e.text))):null},X=a(20),$=a(15),K=function(e){return c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,e.columns&&e.columns.map(function(e){return c.a.createElement("th",{key:"th"+(e.key?e.key:e.name),className:""},e.customHeader?e.customHeader(e):e.name)}))),c.a.createElement("tbody",null,e.data.data&&e.data.data.length>0?e.data.data.map(function(t,a){return c.a.createElement("tr",{key:a+e.keyName},e.columns&&e.columns.map(function(e){return c.a.createElement("td",{key:a+"td"+(e.key?e.key:e.name),className:""},e.custom?e.custom(t):t[e.key])}))}):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:e.columns.length},"No data found!!!"))),e.data.data&&e.data.data.length>0&&c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:e.columns?e.columns.length:0},c.a.createElement("div",{className:"d-ib"},"Showing "+(e.data.page*e.data.size+1)+" to "+(e.data.page*e.data.size+e.data.size>e.data.totalCount?e.data.totalCount:e.data.page*e.data.size+e.data.size)+" of "+e.data.totalCount+" entries"),e.data.totalCount>e.data.size&&c.a.createElement("div",{className:"d-ib fr"},e.data.page>0&&c.a.createElement($.b,{size:"1.3em",title:"Previous",className:"pointer",onClick:function(){e.onPageChange(e.data.page-1,e.data.size)}}),e.data.totalCount/e.data.size>0&&Object(X.a)(Array(Math.ceil(e.data.totalCount/e.data.size))).map(function(t,a){return c.a.createElement("span",{key:"dt-page-"+a,className:"pL-5 pR-5 mL-3 mR-3 pointer"+(a===e.data.page?" bgc-blue c-white":""),onClick:function(){e.onPageChange(a,e.data.size)}},a+1)}),e.data.page<Math.ceil(e.data.totalCount/e.data.size)-1&&c.a.createElement($.a,{size:"1.3em",title:"Next",className:"pointer",onClick:function(){e.onPageChange(e.data.page+1,e.data.size)}}))))))},Y=function(e){return c.a.createElement("div",{className:"table"},e.data.data&&e.data.data.length>0&&c.a.createElement("div",{style:{borderBottom:"1px solid #ccc",borderTop:"1px solid #ccc",marginBottom:"10px",padding:"10px 0px"}},c.a.createElement("div",{className:"d-ib"},"Showing "+(e.data.page*e.data.size+1)+" to "+(e.data.page*e.data.size+e.data.size>e.data.totalCount?e.data.totalCount:e.data.page*e.data.size+e.data.size)+" of "+e.data.totalCount+" entries"),e.data.totalCount>e.data.size&&c.a.createElement("div",{className:"d-ib fr"},e.data.page>0&&c.a.createElement($.b,{size:"1.3em",title:"Previous",className:"pointer",onClick:function(){e.onPageChange(e.data.page-1,e.data.size)}}),e.data.totalCount/e.data.size>0&&Object(X.a)(Array(Math.ceil(e.data.totalCount/e.data.size))).map(function(t,a){return c.a.createElement("span",{key:"dt-page-"+a,className:"pL-5 pR-5 mL-3 mR-3 pointer"+(a===e.data.page?" bgc-blue c-white":""),onClick:function(){e.onPageChange(a,e.data.size)}},a+1)}),e.data.page<Math.ceil(e.data.totalCount/e.data.size)-1&&c.a.createElement($.a,{size:"1.3em",title:"Next",className:"pointer",onClick:function(){e.onPageChange(e.data.page+1,e.data.size)}}))),c.a.createElement("div",null,e.data.data&&e.data.data.length>0?e.data.data.map(function(t,a){return c.a.createElement("ul",{key:a+e.keyName,className:"card"},e.columns&&e.columns.map(function(e){return c.a.createElement("li",{key:a+"td"+(e.key?e.key:e.name),className:""},e.custom?e.custom(t):c.a.createElement("div",null,c.a.createElement("label",{className:"bold mr10"},e.name+":"),c.a.createElement("span",null,t[e.key])))}))}):c.a.createElement("div",null,c.a.createElement("div",null,"No data found!!!"))))},Z=Object(i.b)(function(e,t){return{historicalDataList:e.HistoricalDataList}},function(e){return{searchQuote:function(t,a){return e(function(e,t){return function(a){(new _).get("search/quote/"+e,function(e,a){U(e)&&U(e.data)?t(e.data):t([])})}}(t,a))},search:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r(J({data:[],page:0,size:20,totalCount:0},!1,!1,"")),(new _).get("search/"+e+"/"+t+"/"+a,function(e,c){U(e)&&U(e.data)?(r(J({data:e.data.data,page:t,size:a,totalCount:e.data.totalCount},!0,!1,"")),n(!0)):n(!1)})}}(t,a,n,r))}}})(function(e){var t=Object(r.useState)(""),a=Object(W.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(!1),i=Object(W.a)(l,2),s=i[0],u=i[1],d=Object(r.useState)(!1),m=Object(W.a)(d,2),p=m[0],f=m[1],h=Object(r.useState)([]),g=Object(W.a)(h,2),E=g[0],b=g[1],y=Object(r.useState)("GRID"),O=Object(W.a)(y,2),v=O[0],k=O[1],C=function(){return[{name:"Date",custom:function(e){return new Date(e.date).toLocaleDateString()}},{name:"Open",key:"open"},{name:"High",key:"high"},{name:"Low",key:"low"},{name:"Close",key:"close"},{name:"Adj Close",key:"adjClose"},{name:"Volume",key:"volume"}]};return c.a.createElement(z,{className:"d100"},c.a.createElement(z,{className:"dflex",style:{marginBottom:"25px"}},c.a.createElement(z,{className:"d50 mr10 pr"},c.a.createElement(w,{type:"text",className:"d100",placeholder:"Search Historical Data",value:n+"",onFocus:function(){return f(!0)},onChange:function(t){o(t.target.value),e.searchQuote(t.target.value,function(e){b(e)})},style:{padding:"3px 5px"}}),p&&c.a.createElement(z,{className:"ddl pa d100",style:{zIndex:1}},c.a.createElement(T,{title:"Close",className:"pa bold tar pointer",style:{color:"#FF0000",right:0,top:"-7px"},onClick:function(){return f(!1)}},"X"),E.length>0?E.map(function(t,a){return c.a.createElement(z,{key:"quote"+a,className:"ddli pointer",style:{},onClick:function(){f(!1),o(t),u(!0),e.search(t,0,20,function(e){u(!1)})}},t)}):c.a.createElement(T,{style:{padding:"5px"}},"No data matches!!!"))),c.a.createElement(Q.a,{size:"1.5em",title:"Grid",className:"pointer mr10",style:"GRID"===v?{marginTop:"4px",color:"#0078d7"}:{marginTop:"4px"},onClick:function(){k("GRID")}}),c.a.createElement(q.a,{size:"2em",title:"Card",className:"pointer",style:"CARD"===v?{color:"#0078d7"}:{},onClick:function(){k("CARD")}})),e.historicalDataList&&e.historicalDataList.isUpToDate&&e.historicalDataList.data&&c.a.createElement(z,null,"GRID"===v?c.a.createElement(K,{keyName:"historical-data",className:"",columns:C(),data:e.historicalDataList.data,onPageChange:function(t,a){u(!0),e.search(n,t,a,function(e){u(!1)})}}):c.a.createElement(Y,{keyName:"historical-data",className:"",columns:C(),data:e.historicalDataList.data,onPageChange:function(t,a){u(!0),e.search(n,t,a,function(e){u(!1)})}})),c.a.createElement(V,{visible:s,text:"Loading..."}))}),ee=function(){return r.createElement(z,{style:{flex:1,backgroundColor:F,padding:40}},r.createElement(T,null,"Page not found!!!"))},te=Object(i.b)(function(e,t){return{}},function(e){return{}})(function(){return r.createElement(z,{className:"container"},r.createElement(x,null),r.createElement(z,{className:"content"},r.createElement(E.c,null,r.createElement(E.a,{path:"/",exact:!0,component:Z}),r.createElement(E.a,{component:ee}))),r.createElement(L,null))}),ae=Object(i.b)(function(e,t){return{}},function(e){return{}})(function(){return r.createElement(g.a,null,r.createElement(te,null))});a(54),a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(function(){return c.a.createElement(i.a,{store:h},c.a.createElement(ae,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.fb22fcd5.chunk.js.map