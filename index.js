!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=require("mongoose")},function(e,t){t.success=(e,t,r="")=>e.send({data:t,message:r}),t.unAuthorized=(e,t)=>error(e,401,t),t.error=(e,t)=>{error(e,500,t)},t.vError=(e,t)=>error(e,400,t),t.cError=(e,t)=>error(e,404,t),t.nError=(e,t)=>error(e,404,t),error=(e,t,r)=>e.status(t).send({message:r})},function(e,t,r){const o=r(3),n=r(4);var s=r(5);const c=r(6),u=r(0);var a=o(),i=process.env.PORT||3001;a.use(n.urlencoded({extended:!0})),a.use(n.json()),a.use(s({credentials:!0,origin:!0})),u.Promise=global.Promise,u.connect(c.url,{useNewUrlParser:!0}).then(()=>{console.log("Successfully connected to the database")}).catch(e=>{console.log("Could not connect to the database. Exiting now...",e),process.exit()}),a.use(o.static("assets")),a.use(o.static("web")),a.get("/",(e,t)=>{var r=url.parse(e.url,!0);let o="/index.html";r.pathname&&r.pathname.length>0&&"/#"!=r.pathname.substring(0,2)&&(o=r.pathname),t.sendFile("./web"+o,{root:"./"})}),r(7)(a),a.listen(i,()=>{console.log("API Server is listening on port "+i)})},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports={url:"mongodb+srv://naveen:nvnkmr%40123@cluster0-r86wa.mongodb.net/data-search?retryWrites=true&w=majority"}},function(e,t,r){"use strict";e.exports=e=>{r(8)(e),r(10)(e)}},function(e,t,r){"use strict";const o=r(9);e.exports=e=>{e.route("/heartbeat").get(o.get)}},function(e,t,r){"use strict";const o=r(1);t.get=(e,t)=>o.success(t,null,"API is alive.")},function(e,t,r){"use strict";const o=r(11);e.exports=e=>{e.get("/search/quote/:text",o.searchQuote),e.get("/search/:text/:page/:size",o.search)}},function(e,t,r){"use strict";const o=r(12),n=r(1);t.searchQuote=(e,t)=>{o.find({quote:new RegExp(e.params.text,"i")},{_id:0,quote:1}).distinct("quote").then(e=>n.success(t,e)).catch(e=>n.error(t,e.message||"Some error occurred while retrieving records."))},t.search=(e,t)=>{o.find({quote:e.params.text}).skip(e.params.page*e.params.size).limit(+e.params.size).then(r=>{o.countDocuments({quote:e.params.text}).then(e=>n.success(t,{data:r,totalCount:e})).catch(e=>n.success(t,{data:r,totalCount:0}))}).catch(e=>n.error(t,e.message||"Some error occurred while retrieving records."))}},function(e,t,r){const o=r(0);var n=o.Schema;const s=o.Schema({quote:n.Types.String,date:n.Types.Date,open:n.Types.Number,high:n.Types.Number,low:n.Types.Number,close:n.Types.Number,adjClose:n.Types.Number,volume:n.Types.Number});e.exports=o.model("Historical",s)}]);